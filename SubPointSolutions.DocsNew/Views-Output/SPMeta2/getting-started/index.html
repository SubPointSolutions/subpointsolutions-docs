<html lang="en"><head>    
    <meta charset="utf-8">
    <!-- TITLE OF SITE -->
    <title>SubPoint Solutions</title>
    <meta name="description" content="We enhance your SharePoint experience with excellent APIs, products, and services">
    <meta name="keywords" content="SharePoint, SharePoint Online, SPMeta2, MetaPack, MetaStudio, provision, sp2013, sp2016, o365">
    <meta name="author" content="SubPoint Solutions">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- FAVICON -->
    <link rel="icon" href="/content/img/favicon/favicon.ico">

    <link rel="stylesheet" href="/content/bootstrap.min.css">
    <link rel="stylesheet" href="/content/icons/icons.min.css">
    <link href="http://fonts.googleapis.com/css?family=raleway:300,400,600,700%7copen+sans:300,400,600,700%7chandlee" rel="stylesheet" target="_blank">

    <link rel="stylesheet" href="/content/style.css">
    <link rel="stylesheet" href="/content/responsive.css">
    <link rel="stylesheet" href="/content/colors/red.css" title="red">
    <link rel="stylesheet" href="/content/sps.web.css">

    <link href="/content/syntaxhighlighter/shcore.css" rel="stylesheet">
    <link href="/content/syntaxhighlighter/shcoredefault.css" rel="stylesheet">

    <link href="/content/sps.docs.css" rel="stylesheet">
    <link href="/content/sps.docs.new.css" rel="stylesheet">
    
    <!--[if lt IE 9]>
        <script src="assets/js/plugins/html5shiv.min.js"></script>
        <script src="assets/js/plugins/respond.min.js"></script>
    <![endif]-->
<style>
    .header .overlay {
        height: 500px;
    }

    .company-stat {
        text-align: center;
    }

        .company-stat h4 {
            font-weight: bold;
            color: white;
        }

        .company-stat div.number {
            color: white;
            font-weight: bold;
            font-style: normal;
            font-size: 60px;
        }

        .company-stat div.fact {
            margin-top: 10px;
            color: white;
            font-weight: bold;
            font-style: normal;
            font-size: 23px;
        }

    .wrapper-sm-x {
        padding-top: 25px;
        padding-bottom: 10px;
    }

    .header-landing .vmiddle {
        top: 55%;
    }

    .client-logo img {
        max-height: 60px;
        max-width: 140px;
        opacity: 1;
    }

    .client-logo p {
        margin-bottom: 0px;
    }

    .feature-box .description {
        height: 100px;
    }

    p.tweet a {
        color: #c0392b !important;
    }

    .tweet li span {
        font-style: normal !important;
        font-size: 15px;
    }

    p.interact {
        display: none !important;
    }

    pre  {
        background-color:#ffffff;
    }

    .footer-nav {
        margin-top: 0px !important;
    }

</style></head>



<body>
    <div class="main-wrapper">

        



<nav class="navbar navbar-fixed-top is-scrolling" role="navigation">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="navbar-header">
                    <button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button">
                        <i class="icon icon_menu"></i>
                    </button>

                            <a href="/" class="navbar-brand " title="SmartMvp">
                                <img src="/content/img/subpoint-logo-25.png" alt="Logo" class=" img-thumbnail img-responsive">
                                <span class="text-logo">SubPoint Solutions - Docs</span>
                            </a>

                </div>

                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">

                        <li><a href="http://subpointsolutions.com" title="" target="_blank">Home</a></li>

                        
                        <li><a href="http://docs.subpointsolutions.com" title="" target="_blank">Docs</a></li>
                        
                        
                        <li><a href="https://www.yammer.com/spmeta2feedback/" title="" target="_blank">Community</a></li>
                        <li><a href="http://subpointsolutions.com/company" title="" target="_blank">About</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="container body-content sd-body-content">

    <div class="row sps-secondnav">
        



<div class="sub-nav" m-current-subfolder="getting-started">



    <h2>
            <a href="/spmeta2/getting-started/index.html">
                Getting started
            </a> <span>-</span> <span style="font-size: 18px;">Getting started</span>
        
    </h2>

    <ul>
            <li>
                <a m-subgroup="" class="" href="/spmeta2/index.html">
                    SPMeta2 Home
                </a>
            </li>
            <li>
                <a m-subgroup="getting-started" class="active" href="/spmeta2/getting-started/index.html">
                    Getting started
                </a>
            </li>
            <li>
                <a m-subgroup="reference" class="" href="/spmeta2/reference/index.html">
                    Reference
                </a>
            </li>
            <li>
                <a m-subgroup="extensibility" class="" href="/spmeta2/extensibility/index.html">
                    Extensibility
                </a>
            </li>
            <li>
                <a m-subgroup="scenarios" class="" href="/spmeta2/scenarios/index.html">
                    Scenarios
                </a>
            </li>
            <li>
                <a m-subgroup="kb" class="" href="/spmeta2/kb/index.html">
                    KB
                </a>
            </li>

    </ul>
</div>
    </div>

    <div class="row">

        <div class="col-lg-3 col-md-3 col-sm-3 sps-sidebar">
            

<div class="sd-sidebar panel panel-default hidden-print hidden-xs hidden-sm affix1">
    <ul class="nav ">
                        <li class="root active">

                            <a href="/spmeta2/getting-started/index.html">
                                Getting started
                            </a>
                        </li>
                        <li class="root">

                            <a href="/spmeta2/getting-started/writing-console-app.html">
                                Writing a console app
                            </a>
                        </li>
                        <li class="root">

                            <a href="/spmeta2/getting-started/license.html">
                                License
                            </a>
                        </li>
                        <li class="root">

                            <a href="/spmeta2/getting-started/releases.html">
                                Releases
                            </a>
                        </li>

    </ul>



</div>
        </div>

        <div class="col-lg-9 col-md-9 col-sm-9 sps-document">
            

<style>
    /*h3 {
        text-align: center;
    }*/
</style><h3>SPMeta2 essentials</h3>
<p>SPMeta2 is a hassle-free fluent API for code-based SharePoint artefact provisioning.
It offers a consistent provisioning API via SSOM/CSOM for SharePoin 2010, 2013 and O365.</p>
<p>The library provides an abstraction level over SharePoint API, so it is highly desired to understand a few concepts on which SPMeta2 library is built - definitions, models and provision services.</p>
<h3>A big picture</h3>
<p>Here is a big pucture on how SPMeta2 library works.</p>
<p>SPMeta2 introduces a domain of c# POCO objects, then it maps every single POCO object on SharePoint artifacts.</p>
<p><img src="http://g.gravizo.com/g?
digraph g {
rankdir=&quot;lr&quot;;
&quot;csharp poco objects&quot; -> &quot;spmeta2&quot; -> sharepoint;    } " class=" img-thumbnail img-responsive"></p>
<p>Have a look on the same idea expressed in a c# code.
Don not focus on understanding every single bit of the code, it will be much clear to you as we refine ideas later in the article.</p>
<pre><code class="language-cs">
// Step 1, create 'definitions' - a bunch of CSharp POCO objects
var clientDescriptionField = new FieldDefinition
{
    Title = "Client Description",
    InternalName = "dcs_ClientDescription",
    Group = DocConsts.DefaulFieldsGroup,
    Id = new Guid("06975b67-01f5-47d7-9e2e-2702dfb8c217"),
    FieldType = BuiltInFieldTypes.Note,
};

var customerAccountContentType = new ContentTypeDefinition
{
    Name = "Customer Account",
    Id = new Guid("ddc46a66-19a0-460b-a723-c84d7f60a342"),
    ParentContentTypeId = BuiltInContentTypeId.Item,
    Group = DocConsts.DefaultContentTypeGroup
};

// step 2, define relationships between definitions
// we need to build a logical 'model tree'

// fields and content types live under site
// so use SiteModel and add fields/content types under site
var siteModel = SPMeta2Model.NewSiteModel(site =&gt;
{
    site.AddField(clientDescriptionField);
    site.AddContentType(customerAccountContentType);
});

// step 3, deploy site model via CSOM
var csomProvisionService = new CSOMProvisionService();
csomProvisionService.DeploySiteModel(clientContext, siteModel);


</code></pre>
<h3>Zoom in, 1/3 scale - definitions</h3>
<p>Let's zoom in and have a closer look.
SPMeta2 provides c# POCP objects, we call them <strong>definitions</strong> for every SharePoint artifact.
So you describe what you want to provision in definitions, and then SPMeta2 takes care about everything else.</p>
<p><img src="http://g.gravizo.com/g? digraph g {
rankdir=&quot;lr&quot;; &quot;web definition&quot; -> &quot;spmeta2&quot;;  
&quot;field definition&quot; -> &quot;spmeta2&quot;;  
&quot;content type definition&quot; -> &quot;spmeta2&quot;;  
&quot;list definition&quot; -> &quot;spmeta2&quot;;  
&quot;list view definition&quot; -> &quot;spmeta2&quot;;  
&quot;web part page definition&quot; -> &quot;spmeta2&quot;;  
&quot;web part definition&quot; -> &quot;spmeta2&quot;; 
&quot;... other definitions ...&quot; -> &quot;spmeta2&quot;;  &quot;spmeta2&quot; -> sharepoint;  }" class=" img-thumbnail img-responsive"></p>
<p>And the same idea in the code. Now field definition and content type definition make sense, don't they?
Don't focus on understanding every single bit of the code, it will be much clear to you as we refine ideas later in the article.</p>
<pre><code class="language-cs">
// Step 1, create 'definitions' - a bunch of CSharp POCO objects
var clientDescriptionField = new FieldDefinition
{
    Title = "Client Description",
    InternalName = "dcs_ClientDescription",
    Group = DocConsts.DefaulFieldsGroup,
    Id = new Guid("06975b67-01f5-47d7-9e2e-2702dfb8c217"),
    FieldType = BuiltInFieldTypes.Note,
};

var customerAccountContentType = new ContentTypeDefinition
{
    Name = "Customer Account",
    Id = new Guid("ddc46a66-19a0-460b-a723-c84d7f60a342"),
    ParentContentTypeId = BuiltInContentTypeId.Item,
    Group = DocConsts.DefaultContentTypeGroup
};

// step 2, define relationships between definitions
// we need to build a logical 'model tree'

// fields and content types live under site
// so use SiteModel and add fields/content types under site
var siteModel = SPMeta2Model.NewSiteModel(site =&gt;
{
    site.AddField(clientDescriptionField);
    site.AddContentType(customerAccountContentType);
});

// step 3, deploy site model via CSOM
var csomProvisionService = new CSOMProvisionService();
csomProvisionService.DeploySiteModel(clientContext, siteModel);


</code></pre>
<h3>Zoom in, 2/3 scale - models</h3>
<p>All SharePoint artifacts have relationships between each other.
For intance, here a few to mentions:</p>
<ul>
<li>fields belong to site, web or list</li>
<li>content types belong to site or web</li>
<li>lists belong to web</li>
<li>list views belong to list</li>
<li>etc..</li>
</ul>
<p>Having definitions of not enought, we need to describe relationshop between them, so that SPMeta2 would know how to provision them correctly.
Here is a refined view on how SPMeta2 works for site and web level provision:</p>
<p><img src="http://g.gravizo.com/g?
digraph g {
rankdir=&quot;lr&quot;;
&quot;spmeta2&quot; -> sharepoint;   
&quot;site model&quot; -> &quot;spmeta2&quot;;
&quot;web model&quot; -> &quot;spmeta2&quot;;
&quot;field definition&quot;  -> &quot;site model&quot;;  
&quot;content type definition&quot; -> &quot;site model&quot;;  
&quot;user custom action&quot; -> &quot;site model&quot;;  
&quot;list definition&quot; -> &quot;web model&quot;;  
&quot;list view definition&quot; -> &quot;web model&quot;;  
&quot;web partpage&quot; -> &quot;web model&quot;; }" class=" img-thumbnail img-responsive"></p>
<p>And the same idea in the code. NewSiteModel(), AddField() and AddContentType() help to build a relationships between artifacts
Don't focus on understanding every single bit of the code, it will be much clear to you as we refine ideas later in the article.</p>
<pre><code class="language-cs">
// Step 1, create 'definitions' - a bunch of CSharp POCO objects
var clientDescriptionField = new FieldDefinition
{
    Title = "Client Description",
    InternalName = "dcs_ClientDescription",
    Group = DocConsts.DefaulFieldsGroup,
    Id = new Guid("06975b67-01f5-47d7-9e2e-2702dfb8c217"),
    FieldType = BuiltInFieldTypes.Note,
};

var customerAccountContentType = new ContentTypeDefinition
{
    Name = "Customer Account",
    Id = new Guid("ddc46a66-19a0-460b-a723-c84d7f60a342"),
    ParentContentTypeId = BuiltInContentTypeId.Item,
    Group = DocConsts.DefaultContentTypeGroup
};

// step 2, define relationships between definitions
// we need to build a logical 'model tree'

// fields and content types live under site
// so use SiteModel and add fields/content types under site
var siteModel = SPMeta2Model.NewSiteModel(site =&gt;
{
    site.AddField(clientDescriptionField);
    site.AddContentType(customerAccountContentType);
});

// step 3, deploy site model via CSOM
var csomProvisionService = new CSOMProvisionService();
csomProvisionService.DeploySiteModel(clientContext, siteModel);


</code></pre>
<h3>Zoom in, 3/3 scale - provision services</h3>
<p>We can have SharePoint 2010, SharePoint 2013 or SharePoint Online along with either SSOM or CSOM API.
SPMeta2 supports both SSOM and CSOM API abstracting them via 'provisioning services' implementations.</p>
<p>Here is an idea for SSOM or CSOM based provision:</p>
<p><img src="http://g.gravizo.com/g?
digraph g {
&quot;site model&quot; -> &quot;choose your provision strategy&quot;;
&quot;web model&quot; -> &quot;choose your provision strategy&quot;;
&quot;field definition&quot; -> &quot;site model&quot;;  
&quot;content type definition&quot; -> &quot;site model&quot;;  
&quot;user custom action&quot; -> &quot;site model&quot;;  
&quot;list definition&quot; -> &quot;web model&quot;;  
&quot;list view definition&quot; -> &quot;web model&quot;;  
&quot;web partpage&quot; -> &quot;web model&quot;;  
&quot;choose your provision strategy&quot; -> &quot;csom provision service&quot;;   
&quot;choose your provision strategy&quot; -> &quot;ssom provision service&quot;;   
&quot;csom provision service&quot; -> &quot;sharepoint 2013&quot;;
&quot;csom provision service&quot; -> &quot;sharepoint online&quot;;
&quot;ssom provision service&quot; -> &quot;sharepoint 2010&quot;;
&quot;ssom provision service&quot; -> &quot;sharepoint 2013; }" class=" img-thumbnail img-responsive"></p>
<p>Finally, the code should be absolutely clear to you. We create definitions, we build a logical model and then we use a provision service to push the model to the SharePoint site. Easy enough?</p>
<pre><code class="language-cs">
// Step 1, create 'definitions' - a bunch of CSharp POCO objects
var clientDescriptionField = new FieldDefinition
{
    Title = "Client Description",
    InternalName = "dcs_ClientDescription",
    Group = DocConsts.DefaulFieldsGroup,
    Id = new Guid("06975b67-01f5-47d7-9e2e-2702dfb8c217"),
    FieldType = BuiltInFieldTypes.Note,
};

var customerAccountContentType = new ContentTypeDefinition
{
    Name = "Customer Account",
    Id = new Guid("ddc46a66-19a0-460b-a723-c84d7f60a342"),
    ParentContentTypeId = BuiltInContentTypeId.Item,
    Group = DocConsts.DefaultContentTypeGroup
};

// step 2, define relationships between definitions
// we need to build a logical 'model tree'

// fields and content types live under site
// so use SiteModel and add fields/content types under site
var siteModel = SPMeta2Model.NewSiteModel(site =&gt;
{
    site.AddField(clientDescriptionField);
    site.AddContentType(customerAccountContentType);
});

// step 3, deploy site model via CSOM
var csomProvisionService = new CSOMProvisionService();
csomProvisionService.DeploySiteModel(clientContext, siteModel);


</code></pre>



            

    <div class="m-prevNextNav-cnt">
                    <a class="btn-lg btn-default pull-right m-btn-next" href="/spmeta2/getting-started/writing-console-app.html">
                Next <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
            </a>
    </div>

        </div>

        

    </div>
</div>


        <footer class="footer dark-bg" id="footer">
    <div class="container">
        <div class="wrapper-lg">
            <div class="row">
                <!-- Footer Left Col -->
                <div class="col-md-4">
                    <!-- Logo -->


                    <h5 class="text-white">
                        <img src="/content/img/subpoint-logo-25.png" alt="Logo" class=" img-thumbnail img-responsive">
                        SubPoint Solutions
                    </h5>

                    <p class="footer-hero">
                        Enhancing your SharePoint experience with excellent APIs, products, and services so that you can focus on business-critical tasks.
                        Recognized and trusted since 2013.
                    </p>
                </div>
                <!-- Footer Contact Col -->
                <div class="col-md-4">
                    <h5 class="text-white">Our Contacts</h5>
                    <div class="contact-item">
                        <div class="contact-content">
                            Email:<br>
                            <a style="font-size: 14px;" href="mailto:support@subpointsolutions.com">support@subpointsolutions.com</a>
                        </div>

                        <div class="contact-content">
                            Yammer Network:<br>
                            <a style="font-size: 14px;" href="https://www.yammer.com/spmeta2feedback" target="_blank">https://www.yammer.com/spmeta2feedback</a>
                        </div>


                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="icon icon_pin"></i>
                        </div>
                        <div class="contact-content">
                            Sydney, NSW 2000 Australia
                        </div>
                    </div>
                </div>
                <!-- Footer Right Col: Twitter Feed -->
                <div class="col-md-4">
                    <h5 class="text-white">Recent Tweets</h5>

                    <div class="tweet" id="twitter-cnt">

                    </div>
                </div>

                <!-- Footer Menu and Copy -->
               
            </div>

            <div class="row">
                <div class="col-md-12">
                    <ul class="footer-nav">
                        <li>
                            <a href="/company">Company</a>
                        </li>
                        
                        <li>
                            <a href="/terms">Terms Of Use</a>
                        </li>
                        <li>
                            <a href="/privacy">Privacy Policy</a>
                        </li>
                    </ul>
                    <p class="footer-copy">

                        Copyright Â© <a hre="http://subpointsolutions.com" target="_blank">SubPoint Solutions</a> 2017. 
                        Built with care, <a href="http://wyam.io" target="_blank">Wyam</a> and <a href="https://www.netlify.com/" target="_blank">Netlify</a>. Last updated Sun, 30 Apr 2017 21:59:18 GMT.
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>

    </div>

    <script src="/scripts/jquery-1.9.1.min.js"></script>
    <script src="/scripts/bootstrap.js"></script>

    <script src="/scripts/syntaxhighlighter/shcore.js"></script>
    <script src="/scripts/syntaxhighlighter/shbrushcsharp.js"></script>
    <script src="/scripts/syntaxhighlighter/shbrushxml.js"></script>
    <script src="/scripts/syntaxhighlighter/shbrushjscript.js"></script>
    <script src="/scripts/syntaxhighlighter/shbrushpowershell.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.2.2/isotope.pkgd.min.js"></script>


    

    


    <script>

        (function ($) {

            $(document).ready(function () {

                $('code.language-cs')
                    .addClass('brush: csharp;');

                $('code.language-xml')
                    .addClass('brush: xml;');

                $('code.language-js')
                    .addClass('brush: js;');
                    
                $('code.language-ps')
                       .addClass('brush: ps;');

                SyntaxHighlighter.defaults['quick-code'] = false;
                SyntaxHighlighter.config.tagName = 'code';
                SyntaxHighlighter.all();
            });

            $(document).ready(function () {
                $("body").bind("keydown", function (event) {

                    console.log(event);

                    if (event.ctrlKey && event.keyCode == 37) {

                        if ($('a.m-btn-prev').size() > 0) {
                            var href = $('a.m-btn-prev').attr('href');

                            window.location.href = href;
                        }
                    }

                    if (event.ctrlKey && event.keyCode == 39) {
                        if ($('a.m-btn-next').size() > 0) {
                            var href = $('a.m-btn-next').attr('href');

                            window.location.href = href;
                        }
                    }
                });
            });

        }(jQuery));

    </script>


</body></html>